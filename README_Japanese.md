# DeepLabCut-ultrasound 超音波舌位置自動抽出モデル使用説明  

**モデル概要**  

このモデルはDeepLabCut（DLC）ディープラーニングフレームワークを基に開発された専用ツールで、超音波画像中の舌の輪郭を自動的に抽出できます。舌の縁のキーポイントを正確にマークし、これらの位置情報をCSVファイルに座標形式で保存します。これにより、後続の分析や研究が容易になります。  

**学術的引用**  

**重要なお知らせ：学術研究で本モデルを使用される場合は、発表論文で以下の文献を引用してください：**  
J.Sun, T.Kitamura, and R.Hayashi, "Extraction of Speech Organ Contours from Ultrasound and real-time MRI Data using DeepLabCut", _Acoustical Science and Technology_,1-7(2025).  
https://doi.org/10.1250/ast.e24.128  

**システム要件**  

本モデルを使用する前に、以下のソフトウェア環境をインストールする必要があります：  
1. DeepLabCut（DLC）メインプログラム - モデル実行の基盤フレームワーク  
2. Miniconda - 軽量なPython環境管理ツール  
3. Nvidiaグラフィックドライバ（オプションだが推奨） - 独立GPUによる演算加速用  
4. Cudaツールキット（オプションだが推奨） - GPU加速計算用ソフトウェア  

**OS互換性**  
1. WindowsおよびmacOSシステムで使用可能  
2. GPUの有無にかかわらず動作可能（但し性能差あり）  

**処理速度比較**  
1. GPUあり（グラフィックカード加速）：  
  ① 毎秒200フレーム以上処理可能  
  ② 大量の動画データのバッチ処理に適す  
2. GPUなし（CPU計算のみ）：  
  ① 毎秒10-20フレーム程度の処理速度  
  ② 少量データやテスト用途向け  

推奨：NVIDIA製グラフィックカード（特にゲーミングPCやワークステーション）をお持ちの場合、GPUドライバとCUDAツールキットのインストールを強く推奨します。処理速度が10-20倍向上します！  

**動画仕様要件**  

本モデルは処理対象の超音波動画に厳密なサイズ要件があります：  
1. 320ピクセル（幅）×240ピクセル（高）のサイズである必要あり  
2. これはモデル訓練時にこのサイズの動画を使用したため  
3. サイズが合わない場合、舌輪郭を正確に識別できません  

「鍵と鍵穴」の関係のように、動画サイズは「鍵」の溝紋に相当し、完全一致が求められます。  

**キーポイント設定原理**  

モデルは舌輪郭を描くために11個のキーポイントを使用：  
1. これらの点は舌縁に単純に等間隔で分布しているわけではない  
2. 舌形状の特徴的位置に基づいてキーポイントを埋める 
3. これにより実際の舌形状をより正確に反映  

**なぜ等間隔分布ではないのか？**  
1. 単純に11点を等間隔に配置すると、舌輪郭の重要な特徴を見逃す可能性  
2. 顔を描く際、キーポイントは目・鼻・口角などの特徴位置に置くのと同様  
3. 等間隔分布で精度を維持するには約30点またはそれ以上必要だが、処理時間が大幅に増加  

**性能考慮事項**  

キーポイント数と処理効率の関係：  
1. 11点：処理速度が速く、基本的な形状分析ニーズに対応  
2. 30点以上に増加：  
  ① 輪郭描写精度向上  
  ② 但し訓練時間が数倍増加  
  ③ 動画処理速度も顕著に低下  
  ④ ハードウェア要件が高くなる  

この設計は精度と効率のバランスを考慮したもので、大量の動画データを処理する研究場面に特に適しています。適切な筆致で最も重要な形状特徴を捉えるように、認識効果を保ちつつコンピュータに過度な負荷をかけません。
